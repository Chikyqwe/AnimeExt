require("dotenv").config();
const nodemailer = require("nodemailer");
const fs = require('fs'); // Necesario para leer archivos
const path = require('path'); // Necesario para manejar rutas

// --- 1. Carga del Logo Base64 (Asegúrate de que esta sección esté presente) ---
let logoBase64 = "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";

// --------------------------------------------------------------------------

/**
 * Función para enviar un correo electrónico con el código de seguridad.
 * @param {string} to - Dirección de correo electrónico del destinatario.
 * @param {string} code - El código de seguridad temporal.
 * @param {string} [username] - Nombre de usuario para el saludo (opcional).
 * @returns {Promise<boolean>} - True si el correo se envió correctamente, False en caso contrario.
 */
async function SendEmail(to, code, username = null) {
  
  // 2. Lógica de Detección/Extracción del Nombre de Usuario
  let greetingName;
  if (username) {
    greetingName = username;
  } else {
    // Intenta extraer la parte antes del @. Usa 'Usuario' como fallback.
    const parts = to.split('@');
    if (parts.length > 0) {
        greetingName = parts[0];
    } else {
        greetingName = 'Usuario';
    }
    // Opcional: Capitaliza la primera letra del nombre extraído
    greetingName = greetingName.charAt(0).toUpperCase() + greetingName.slice(1);
  }
  
  // 3. Configuración del Transportador (Transporter)
  const transporter = nodemailer.createTransport({
    service: 'gmail',
    auth: {
      user: process.env.EMAIL_USER,
      pass: process.env.EMAIL_PASS
    }
  });

  // 4. Contenido del Correo (Texto Plano)
  const plainText = `
Hola ${greetingName},

Tu código de verificación de seguridad para AnimeEXT es:

${code}

Este código expirará en los próximos 10 minutos.

Si no solicitaste esta verificación, puedes ignorar este correo. Tu cuenta de AnimeEXT permanece segura.

Saludos,
Equipo AnimeEXT
`;

  // 5. Contenido del Correo (HTML)
  // ** IMPORTANTE: Esta es la plantilla HTML con el saludo y centrado de imagen **
  const htmlTemplate = `
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Código de Verificación AnimeEXT</title>
  
  <style>
    /* Estilos CSS para anular el Modo Oscuro */
    @media (prefers-color-scheme: dark) {
        .dark-mode-override {
            background-color: #ffffff !important; 
            color: #1f2937 !important;
        }
    }
    [data-ogsc] .dark-mode-override {
        background-color: #ffffff !important;
        color: #1f2937 !important;
    }
    .dark-mode-override h1,
    .dark-mode-override p,
    .dark-mode-override h2 { /* Añadido h2 */
        color: #1f2937 !important;
    }
  </style>
</head>
<body>
<div style="background-color:#f7f9fc; padding:40px 0; font-family:'Helvetica Neue', Helvetica, Arial, sans-serif; -webkit-text-size-adjust:100%; -ms-text-size-adjust:100%;">
 
 <div class="dark-mode-override" style="
  max-width:550px;
  margin:auto;
  background:#ffffff;
  padding:40px 30px;
  border-radius:12px;
  border:1px solid #e2e8f0;
  box-shadow:0 10px 25px rgba(0,0,0,0.08);
  color:#1f2937;
 ">

    <div style="text-align:center; margin-bottom:30px;">
   
   <img src="cid:uniqueLogo@animeext.com" alt="Logo AnimeEXT" style="
    max-width: 500px; 
    height: auto; 
    display: block; 
    margin: 0 auto 5px auto; /* Centrado */
   ">
   <div style="
    font-size:13px;
    color:#6b7280;
    margin-top:4px;
   ">
   </div>
  </div>
  <hr style="border:none; border-top:1px solid #f3f4f6; margin:0 0 30px 0;">

  <h2 style="
   text-align:center;
   font-size:18px;
   margin-bottom:20px;
   font-weight:600;
   color:#4f46e5;
   font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
  ">
    ¡Hola, ${greetingName}!
  </h2>
  <h1 style="
   text-align:center;
   font-size:24px;
   margin-bottom:12px;
   font-weight:700;
   color:#1f2937;
   font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
  ">
   Código de Verificación
  </h1>

    <p style="
   text-align:center;
   font-size:16px;
   color:#4b5563;
   margin-bottom:30px;
   line-height:1.7;
   padding:0 10px;
   font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
  ">
   Tu código de verificación de seguridad para AnimeEXT es:
  </p>

    <div style="text-align:center; margin:30px 0;">
   <div style="
    font-size:42px;
    font-weight:800;
    letter-spacing:8px;
    color:#ffffff; 
    background:#4f46e5; 
    padding:25px 0;
    border-radius:10px;
    display:inline-block; 
    min-width:80%;
    box-shadow:0 4px 15px rgba(62, 171, 235, 0.4);
    text-align:center;
    mso-padding-alt:0; 
    font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
   ">
    <span style="display:inline-block; padding:0 15px; mso-line-height-alt:normal;">${code}</span>
   </div>
  </div>

    <p style="
   color:#4f46e5;
   text-align:center;
     font-size:15px;
   font-weight:600;
   margin-bottom:40px;
   font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
  ">
   Este código solo será válido por los próximos 3 minutos tras su emisión.
  </p>

  <hr style="border:none; border-top:1px solid #f3f4f6; margin:0 0 25px 0;">

    <div style="
   text-align:center;
   font-size:12px;
   color:#9ca3af;
   line-height:1.7;
   padding:0 10px;
   font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;
  ">
   <p style="margin:0 0 8px 0;">
    Si no solicitaste esta verificación, puedes ignorar este correo.
   </p>
   <p style="margin:0;">
    Saludos, equipo de AnimeEXT ®.
   </p>
  </div>

 </div>
</div>
</body>
</html>
  `;

  // 6. Opciones del Correo
  const mailOptions = {
    from: process.env.EMAIL_FROM || process.env.EMAIL_USER, 
    to,
    subject: "AnimeEXT: Tu código de seguridad temporal",
    text: plainText,
    html: htmlTemplate,
    attachments: [
        {
            filename: 'logo.png', 
            content: logoBase64, 
            encoding: 'base64', 
            cid: 'uniqueLogo@animeext.com' 
        }
    ]
  };

  // 7. Envío del Correo
  try {
    console.log("[email]: Enviando code", code);
    const info = await transporter.sendMail(mailOptions);
    console.log("[email]:", info.response);
    return true;
  } catch (error) {
    console.error("[email] Error enviando el correo:", error);
    return false;
  }
}

module.exports = SendEmail;